<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Quizmania</title>

  <link href="https://fonts.googleapis.com/css2?family=Bungee&family=Faster+One&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Arial Black', Arial, sans-serif;
      position: relative;
      min-height: 100vh;
      text-align: center;
      overflow-x: hidden;
      user-select: none;
      background-image: url('img/popo.png');
      background-repeat: no-repeat;
      background-size: cover;
      background-position: center center;
      background-attachment: fixed;
      position: relative;
      z-index: 0;
    }

    body::before {
      content: "";
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.35);
      z-index: -1;
    }

    h1 {
      font-family: 'Faster One', cursive;
      font-size: 80px;
      margin-top: 30px;
      color: #ffeb3b;
      text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.7);
      letter-spacing: 6px;
      transform: skewX(-5deg);
      animation: brillo-titulo 6s ease-in-out infinite;
      position: relative;
      z-index: 1;
    }

    @keyframes brillo-titulo {
      0%, 100% {
        text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.7);
      }
      50% {
        text-shadow:
          0 0 10px #fff,
          0 0 15px #ffee58,
          0 0 20px #fdd835;
      }
    }

    .boton-categoria {
      padding: 16px 28px;
      font-size: 20px;
      margin: 10px;
      border: none;
      border-radius: 20px;
      color: white;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      user-select: none;
      position: relative;
      z-index: 1;
      background-color: #7b1fa2 !important; /* Color morado solicitado */
    }

    .boton-categoria:active {
      transform: scale(0.96);
    }

    .boton-categoria:hover {
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 8px 20px rgba(0,0,0,0.3);
      opacity: 0.95;
    }

    .boton-categoria:focus-visible {
      outline: 2px solid #000;
    }

    .cafe { background-color: #6D4C41; }

    .cuadro {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(230, 230, 255, 0.85));
      border-radius: 30px;
      padding: 30px 35px;
      margin: 25px auto;
      max-width: 800px;
      font-size: 24px;
      font-weight: 700;
      color: #2d1b4e;
      box-shadow: 0 12px 30px rgba(114, 21, 142, 0.22);
      transition: transform 0.25s ease, box-shadow 0.25s ease;
      line-height: 1.4;
      text-align: left;
      position: relative;
      z-index: 1;
    }

    .cuadro:hover {
      transform: translateY(-5px);
      box-shadow: 0 18px 40px rgba(123, 31, 162, 0.35);
      background: linear-gradient(135deg, rgba(255, 255, 255, 1), rgba(240, 230, 255, 0.95));
    }

    #pregunta {
      font-style: italic;
      color: #5e3e96;
    }

    #respuesta {
      font-style: normal;
      color: #3a176f;
      margin-top: 20px;
    }

    /* Botones de opciones selecci√≥n m√∫ltiple */
    .opcion {
      margin: 12px 0;
      display: flex;
      align-items: center;
      cursor: pointer;
      user-select: none;
    }

    .opcion input[type="radio"] {
      accent-color: #8e24aa;
      width: 20px;
      height: 20px;
      margin-right: 12px;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .opcion input[type="radio"]:hover {
      transform: scale(1.2);
    }

    .opcion label {
      font-size: 20px;
      color: #4a148c;
      font-weight: 700;
      transition: color 0.3s ease;
    }

    .opcion:hover label {
      color: #7b1fa2;
    }

    /* Bot√≥n Mostrar Respuesta */
    #mostrar-respuesta {
      background: linear-gradient(135deg, #7b1fa2, #ab47bc);
      color: white;
      font-size: 22px;
      padding: 18px 40px;
      border: none;
      border-radius: 24px;
      font-weight: 900;
      margin-bottom: 50px;
      cursor: pointer;
      box-shadow: 0 6px 22px rgba(123, 31, 162, 0.8);
      transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
      user-select: none;
      display: inline-block;
      position: relative;
      z-index: 1;
    }

    #mostrar-respuesta:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      box-shadow: none;
    }

    #mostrar-respuesta:hover:enabled {
      background: linear-gradient(135deg, #9c27b0, #ce93d8);
      transform: scale(1.08);
      box-shadow: 0 8px 26px rgba(156, 39, 176, 1);
    }

    /* Botones s√≠/no confirmaci√≥n */
    #confirmacion-puntos button {
      background: linear-gradient(135deg, #4a148c, #7b1fa2);
      padding: 14px 28px;
      border-radius: 20px;
      font-size: 20px;
      box-shadow: 0 5px 18px rgba(123, 31, 162, 0.9);
      transition: background-color 0.35s ease, box-shadow 0.35s ease;
      margin: 0 12px;
      font-weight: 900;
      user-select: none;
      cursor: pointer;
      position: relative;
      z-index: 1;
    }

    #confirmacion-puntos button:hover {
      background: linear-gradient(135deg, #6a1b9a, #9c27b0);
      box-shadow: 0 7px 24px rgba(156, 39, 176, 1);
    }

    #confirmacion-puntos {
      margin-top: 20px;
      background: #f3e5f5;
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 6px 15px rgba(156, 39, 176, 0.4);
      font-size: 18px;
      font-weight: bold;
      color: #4a148c;
      display: none;
      text-align: center;
      white-space: pre-line;
      position: relative;
      z-index: 1;
    }

    #mensaje-puntos {
      margin-top: 15px;
      font-size: 20px;
      color: #1b5e20;
      text-shadow: 1px 1px 2px #c8e6c9;
      position: relative;
      z-index: 1;
    }

    footer {
      font-size: 14px;
      color: #666;
      padding: 20px 0;
      text-align: center;
      position: relative;
      z-index: 1;
    }

    @media (max-width: 600px) {
      h1 {
        animation: none;
        font-size: 60px;
        text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.6);
      }

      .boton-categoria,
      #mostrar-respuesta {
        transition: none;
        box-shadow: none;
      }

      .cuadro {
        box-shadow: none;
        text-align: left;
        padding: 20px 25px;
        font-size: 20px;
        max-width: 90%;
        margin: 15px auto;
      }

      #mostrar-respuesta {
        font-size: 18px;
        padding: 14px 28px;
        margin-bottom: 30px;
      }

      #confirmacion-puntos button {
        font-size: 16px;
        padding: 12px 20px;
        margin: 0 6px;
      }

      #mensaje-puntos {
        font-size: 18px;
      }
    }

    /* Nuevo estilo ventana bienvenida */
    .modal {
      display: flex;
      position: fixed;
      z-index: 1000;
      left: 0; top: 0;
      width: 100vw; height: 100vh;
      background: rgba(44,29,75,0.75);
      align-items: center;
      justify-content: center;
    }

    .modal-contenido {
      background: white;
      padding: 40px 35px 50px;
      border-radius: 32px;
      max-width: 420px;
      width: 90vw;
      box-shadow: 0 12px 40px rgba(123,31,162,0.25);
      text-align: center;
      position: relative;
      user-select: none;
      z-index: 1001;
    }

    .cerrar {
      position: absolute;
      top: 12px; right: 14px;
      background: #ab47bc;
      border-radius: 50%;
      color: white;
      font-size: 28px;
      border: none;
      width: 40px; height: 40px;
      font-weight: 900;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(123,31,162,0.35);
      transition: background 0.3s ease;
      z-index: 1002;
    }

    .cerrar:hover {
      background: #7b1fa2;
    }

    /* Bot√≥n Ayuda */
    #btn-ayuda {
      display: none; /* Oculto inicialmente */
      background: linear-gradient(135deg, #7b1fa2, #ab47bc);
      color: white;
      border: none;
      border-radius: 24px;
      padding: 12px 24px;
      font-size: 18px;
      font-weight: 900;
      box-shadow: 0 6px 18px rgba(123, 31, 162, 0.7);
      cursor: pointer;
      user-select: none;
      position: fixed;
      bottom: 24px;
      right: 24px;
      transition: background 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease;
      z-index: 1100;
    }

    #btn-ayuda:hover {
      background: linear-gradient(135deg, #9c27b0, #ce93d8);
      box-shadow: 0 8px 22px rgba(156, 39, 176, 1);
      transform: scale(1.08);
    }

    #btn-ayuda:active {
      transform: scale(0.95);
    }

    /* Modal Ayuda centrado con flexbox */
    #modal-ayuda {
      display: none; /* oculto por defecto */
      position: fixed;
      z-index: 1000;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(44,29,75,0.75);
      display: flex;
      align-items: center;
      justify-content: center;
    }
  </style>
</head>

<body>
  <h1>Quizmania</h1>

  <div>
    <button class="boton-categoria" style="background-color: #00796b;" onclick="mostrarPregunta('cafe')">Generar pregunta de la exposici√≥n</button>
  </div>

  <div id="pregunta" class="cuadro"></div>
  <div id="opciones" class="cuadro"></div>
  <div id="respuesta" class="cuadro"></div>

  <button id="mostrar-respuesta" onclick="mostrarRespuesta()" disabled>Mostrar Respuesta</button>

  <div id="confirmacion-puntos">
    <div>¬øLa respondiste bien?</div>
    <button onclick="respuestaUsuario(true)">S√≠</button>
    <button onclick="respuestaUsuario(false)">No</button>
    <div id="mensaje-puntos"></div>
  </div>

  <footer>
    ¬© 2025 Quizmania - Todos los derechos reservados para el grupo 4
  </footer>

  <button id="btn-ayuda" onclick="abrirModal()">‚ùì Ayuda</button>

  <!-- Nuevo Modal de bienvenida -->
  <div id="modal-bienvenida" class="modal">
    <div class="modal-contenido">
      <button class="cerrar" onclick="cerrarBienvenida()">√ó</button>
      <div style="font-size: 48px; margin-bottom: 12px;">üéâ</div>
      <h2 style="color:#7b1fa2; margin-bottom: 20px;">¬°Bienvenido a Quizmania!</h2>
      <p style="font-size: 18px; font-weight: 700; color:#4a148c; line-height: 1.5; margin-bottom: 24px;">
        Desaf√≠a a mas jugadores y aprende mientras te diviertes.<br>
        Genera tu pregunta y empieza a jugar!!
(toca el boton de ayuda para informacion de como mejorar tu experiencia)
      </p>
      <button onclick="cerrarBienvenida()" style="
        background: linear-gradient(135deg, #7b1fa2, #ab47bc);
        color: white;
        border: none;
        border-radius: 32px;
        padding: 16px 48px;
        font-size: 22px;
        font-weight: 900;
        box-shadow: 0 8px 26px rgba(123,31,162,0.8);
        cursor: pointer;
        user-select: none;
        transition: background 0.3s ease;
      " 
      onmouseover="this.style.background='linear-gradient(135deg, #9c27b0, #ce93d8)';" 
      onmouseout="this.style.background='linear-gradient(135deg, #7b1fa2, #ab47bc)';">
        Comenzar a jugar
      </button>
    </div>
  </div>

  <div id="modal-ayuda" class="modal" style="display:none;">
    <div class="modal-contenido">
      <span class="cerrar" onclick="cerrarModal()">&times;</span>
      <p>
        üì± Para una mejor experiencia de juego, te recomendamos activar la vista de escritorio: En la parte superior del navegador (los tres puntos), selecciona "Sitio para computadora" luego pon el celular en horizontal y listo!<br><br>
        ‚¨áÔ∏è Para continuar, elige una categor√≠a y responde las preguntas.<br><br>
        ‚úîÔ∏è Presiona "Mostrar Respuesta" para ver la respuesta y confirma si acertaste o no para ganar puntos.<br><br>
        üí° ¬°Divi√©rtete y aprende mucho!
      </p>
    </div>
  </div>

  <script>
    const preguntas = {
      cafe: [
        {
          pregunta: "1. En la bienvenida de la sesi√≥n, ¬øqu√© se debe aclarar al usuario?",
          opciones: [
            "a) Que el producto no se va a evaluar",
            "b) Que se eval√∫a al usuario",
            "c) Que se eval√∫a al producto, no al usuario"
          ],
          correcta: "c"
        },
        {
          pregunta: "2. Seg√∫n Torres Burdiel, ¬øqu√© ocurre si se hacen pruebas con usuarios demasiado tarde?",
          opciones: [
            "a) Se evitan costos de tiempo y dinero",
            "b) Los errores se descubren muy tarde y son m√°s costosos de corregir",
            "c) No hay diferencia en cu√°ndo se hagan"
          ],
          correcta: "b"
        },
        {
          pregunta: "3. ¬øPor qu√© los dise√±adores o desarrolladores no siempre detectan los problemas de uso?",
          opciones: [
            "a) Porque no conocen bien el producto",
            "b) Porque no tienen tiempo para probarlo",
            "c) Porque est√°n demasiado familiarizados con el producto",
            "d) Porque no les interesa la usabilidad"
          ],
          correcta: "c"
        },
        {
          pregunta: "4. ¬øQu√© se debe hacer despu√©s de detectar los problemas de uso en un test con usuarios?",
          opciones: [
            "a) Cambiar todo el dise√±o del sitio",
            "b) Hacer una encuesta para confirmar los resultados",
            "c) Aplicar lo aprendido para mejorar la interfaz",
            "d) Publicar los errores encontrados en redes sociales"
          ],
          correcta: "c"
        },
        {
          pregunta: "5. Seg√∫n Yusef Hassan Montero, ¬øen qu√© se basa un test con usuarios?",
          opciones: [
            "a) En entrevistas profundas con expertos",
            "b) En la observaci√≥n y an√°lisis del uso real del sitio por parte de los usuarios",
            "c) En encuestas masivas por internet",
            "d) En la comparaci√≥n con otros sitios web"
          ],
          correcta: "b"
        },
        {
          pregunta: "6. ¬øCu√°l es el n√∫mero recomendado de participantes para detectar la mayor√≠a de problemas de usabilidad en un test con usuarios?",
          opciones: [
            "a) 2 personas",
            "b) 5 a 7 personas",
            "c) 15 personas"
          ],
          correcta: "b"
        },
        {
          pregunta: "7. ¬øC√≥mo deben estar planteadas las tareas para los usuarios en un test?",
          opciones: [
            "a) Como instrucciones paso a paso",
            "b) Como metas concretas",
            "c) Como preguntas abiertas"
          ],
          correcta: "b"
        },
        {
          pregunta: "8. ¬øQu√© se debe aclarar en la bienvenida de la sesi√≥n a los participantes?",
          opciones: [
            "a) Que se eval√∫a al usuario",
            "b) Que se eval√∫a al producto, no al usuario",
            "c) Que se va a calificar su rendimiento"
          ],
          correcta: "b"
        },
        {
          pregunta: "9. ¬øQu√© permite observar un test con usuarios?",
          opciones: [
            "a) Las opiniones generales del p√∫blico",
            "b) La cantidad de visitas al sitio web",
            "c) C√≥mo interact√∫an personas reales con un sitio web",
            "d) El dise√±o gr√°fico del sitio"
          ],
          correcta: "c"
        },
        {
          pregunta: "10. ¬øCu√°l de las siguientes afirmaciones describe mejor una prueba de usabilidad?",
          opciones: [
            "a) Es una encuesta de satisfacci√≥n al cliente",
            "b) Es una opini√≥n grupal sobre el dise√±o",
            "c) Es un experimento pr√°ctico para evaluar el funcionamiento del sitio",
            "d) Es una sesi√≥n de capacitaci√≥n sobre el sitio"
          ],
          correcta: "c"
        },
        {
          pregunta: "11. ¬øPor qu√© es importante que los usuarios del test sean personas reales?",
          opciones: [
            "a) Porque aportan ideas nuevas de dise√±o",
            "b) Porque no est√°n involucradas en el desarrollo y representan al p√∫blico objetivo",
            "c) Porque saben c√≥mo funciona la interfaz",
            "d) Porque son m√°s econ√≥micos que los expertos"
          ],
          correcta: "b"
        },
        {
          pregunta: "12. ¬øCu√°l es la idea central del enfoque coercitivo al decidir cu√°ndo hacer test con usuarios?",
          opciones: [
            "a) Esperar hasta que el producto est√© terminado para tener una visi√≥n completa.",
            "b) Hacer las pruebas lo antes posible, porque mientras m√°s se tarde, m√°s costoso ser√° corregir los errores",
            "c) No hacer pruebas con usuarios, solo revisiones de expertos.",
            "d) Realizar pruebas √∫nicamente en el momento del lanzamiento oficial."
          ],
          correcta: "b"
        },
        {
          pregunta: "13. ¬øQu√© plantea el enfoque en prototipado?",
          opciones: [
            "a) Hacer pruebas con usuarios √∫nicamente en la versi√≥n final del producto.",
            "b) Ignorar los prototipos y concentrarse en el producto final.",
            "c) Realizar pruebas durante las fases tempranas, usando prototipos, para ahorrar tiempo y dinero",
            "d) Dejar que los usuarios descubran los errores despu√©s del lanzamiento."
          ],
          correcta: "c"
        },
        {
          pregunta: "14. ¬øPor qu√© es recomendable hacer primero una revisi√≥n experta de usabilidad antes de un test con usuarios?",
          opciones: [
            "a) Porque los usuarios no pueden detectar errores importantes.",
            "b) Porque permite corregir los fallos m√°s b√°sicos antes de pasar a pruebas m√°s detalladas",
            "c) Porque reemplaza la necesidad de hacer test con usuarios.",
            "d) Porque es m√°s barato que probar con usuarios y ya no ser√≠a necesario testear despu√©s."
          ],
          correcta: "b"
        },
        {
          pregunta: "15. ¬øQu√© papel cumple la observaci√≥n en un test con usuarios?",
          opciones: [
            "a) Es secundaria frente a los datos estad√≠sticos",
            "b) Es el centro del test, ya que permite ver c√≥mo act√∫a el usuario en la pr√°ctica",
            "c) Solo sirve para verificar los resultados de las encuestas",
            "d) Ayuda a medir la velocidad del sitio"
          ],
          correcta: "b"
        }
      ]
    };

    let preguntaActual = null;
    let categoriaActual = null;
    let opcionSeleccionada = null;
    let puntuacionTotal = 0;

    function mostrarPregunta(cat) {
      categoriaActual = cat;
      const preguntasCat = preguntas[cat];
      const idx = Math.floor(Math.random() * preguntasCat.length);
      preguntaActual = preguntasCat[idx];

      document.getElementById('pregunta').textContent = preguntaActual.pregunta;
      mostrarOpciones(preguntaActual.opciones);
      document.getElementById('respuesta').textContent = "";
      document.getElementById('confirmacion-puntos').style.display = "none";
      document.getElementById('mensaje-puntos').textContent = "";
      document.getElementById('mostrar-respuesta').style.display = "inline-block";
      document.getElementById('mostrar-respuesta').disabled = true;
      opcionSeleccionada = null;

      narrarTexto(preguntaActual.pregunta);
    }

    function mostrarOpciones(opciones) {
      const contenedorOpciones = document.getElementById('opciones');
      contenedorOpciones.innerHTML = "";
      opciones.forEach((opcion, i) => {
        const div = document.createElement('div');
        div.classList.add('opcion');
        const radio = document.createElement('input');
        radio.type = 'radio';
        radio.name = 'opcion';
        radio.id = `opcion${i}`;
        radio.value = opcion.charAt(0);
        radio.onclick = () => {
          opcionSeleccionada = radio.value;
          document.getElementById('mostrar-respuesta').disabled = false;
        };
        const label = document.createElement('label');
        label.htmlFor = `opcion${i}`;
        label.textContent = opcion;
        div.appendChild(radio);
        div.appendChild(label);
        contenedorOpciones.appendChild(div);
      });
    }

    function mostrarRespuesta() {
      if (!preguntaActual) return;
      if (!opcionSeleccionada) {
        alert("Por favor, selecciona una opci√≥n antes de mostrar la respuesta.");
        return;
      }

      const respuestaTexto = `Respuesta correcta: ${preguntaActual.correcta}) ${preguntaActual.opciones.find(op => op.charAt(0) === preguntaActual.correcta).slice(3)}`;
      document.getElementById('respuesta').textContent = respuestaTexto;
      document.getElementById('mostrar-respuesta').style.display = "none";
      document.getElementById('confirmacion-puntos').style.display = "block";
      document.getElementById('mensaje-puntos').textContent = "";

      // Narrar la respuesta correcta
      narrarTexto(respuestaTexto);

      const botones = document.querySelectorAll('#confirmacion-puntos button');
      botones.forEach(b => b.style.display = 'inline-block');
    }

    function respuestaUsuario(acertado) {
      if (!preguntaActual) return;

      const mensaje = document.getElementById('mensaje-puntos');
      const botones = document.querySelectorAll('#confirmacion-puntos button');
      botones.forEach(b => b.style.display = 'none');

      if (acertado) {
        puntuacionTotal += 100;  // Suma 100 puntos si acierta
        mensaje.style.color = '#1b5e20';
        const texto = `¬°Genial! Has ganado 100 puntos. Puntaje total: ${puntuacionTotal} puntos.`;
        mensaje.textContent = texto;
        narrarTexto(texto);
      } else {
        puntuacionTotal -= 50;  // Resta 50 puntos si falla
        mensaje.style.color = '#b71c1c';
        const texto = `Oh no, perdiste 50 puntos. Puntaje total: ${puntuacionTotal} puntos.`;
        mensaje.textContent = texto;
        narrarTexto(texto);
      }
    }

    function abrirModal() {
      document.getElementById('modal-ayuda').style.display = 'flex';
    }

    function cerrarModal() {
      document.getElementById('modal-ayuda').style.display = 'none';
    }

    function cerrarBienvenida() {
      document.getElementById('modal-bienvenida').style.display = 'none';
      document.getElementById('btn-ayuda').style.display = 'inline-block'; // Mostrar bot√≥n ayuda al cerrar bienvenida
    }

    function narrarTexto(texto) {
      if ('speechSynthesis' in window) {
        const utterance = new SpeechSynthesisUtterance(texto);
        utterance.lang = 'es-ES';
        speechSynthesis.cancel();  // Cancelar narraciones anteriores
        speechSynthesis.speak(utterance);
      }
    }

    window.onload = function() {
      document.getElementById('modal-bienvenida').style.display = 'flex';
      document.getElementById('btn-ayuda').style.display = 'none'; // Ocultar bot√≥n ayuda al cargar
    };
  </script>
</body>

</html>

